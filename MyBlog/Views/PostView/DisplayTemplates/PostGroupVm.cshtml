@using MyBlog.ViewModels;
@using MyBlog.Models;

@model  PostGroupVm



    @using MyBlog.Infrastructure.Services
    @using MyBlogContract.ContentGroup
    @using MyBlogContract.Band


<div class="row">
    <div class="col-md-8">
        <p class="h3">
            @Html.DisplayFor(m => m.Tittle)
        </p>
    </div>
</div>
<div class="row">
    <div class="col-md-8">
        @{

            foreach (GroupVmDisplay group1 in Model.GroupPostContents)
            {
                IDeContentGroup dte = (IDeContentGroup)PlugInFactory.GetModelByInterface(typeof(IDeContentGroup), group1.GroupPluginName);

                if (dte != null)
                {

                    dte.PostId = group1.PostId;

                    dte.Order = group1.Order;
                    dte.AreaName = group1.GroupPluginName;

                    @Html.Action(PlugInFactory.GetActionDisplayNameByInterface(typeof(IContentGroupDisplay), group1.GroupPluginName)
                                                    , PlugInFactory.GetControllerNameByInterface(typeof(IContentGroupDisplay), group1.GroupPluginName)
                                                    , dte.GetDictionary())
                        
                }
                else
                {
                    string plugin_string = group1.GroupPluginName ?? "(empty)";
                    @Html.Partial("NotFounPlugin", plugin_string, null)
                }
            }

        }
    </div>
</div>

